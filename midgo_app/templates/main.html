<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-137805801-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-137805801-1');
    </script>

    <style type="text/css">
        html{
            height:100%;
            overflow:hidden;
        }
        body{
            height: 100%;
            margin: 0%;
            background-color: white;
            overflow:hidden;
        }

        .top{
            width:100%;
            height:30%;
            position: relative;
            background-color:transparent;
        }

        .middle{
            width:100%;
            height:60%;
            position: relative;
            background-color: transparent;

        }

        .bottom{
            width: 100%;
            height: 10%;
            position: relative;
            background-color: transparent;
            text-align: center;
            font-size:0.85vw;
        }

        .top_fir_div{
            width:100%;
            height: 20%;
            position: relative;
            background-color: transparent;
            border-bottom: 1px solid black;
        }

        .top_sec_div{
            width:100%;
            height:80%;
            position: relative;
            background-color: transparent;
        }

        .top_sec_content{
            width:100%;
            height:99%;
            position: relative;
            font-weight:600;
            font-size:48px;
            text-align:center;
            border-bottom:1px solid black;
        }
        
        .top_left_div_cover{
            width:20%;
            height:100%;
            position: relative;
            background-color:transparent;
            float:left;
            left:5%;
        }

        .top_content_search{
            width: 70%;
			height: 70%;
            border:1px solid black;
            position: relative;
            top:10%;
            float:left;
        }

        .top_right_div_cover{
            width:30%;
            height:100%;
            position: relative;
            background-color: transparent;
            float: right;
            margin-right:2%;

        }
        
        .top_content_join{
            width:28.3%;
            height: auto;
            font-size:1rem;
            background-color:transparent;
            position: relative;
            float:left;
            top:50%;
            transform: translate(0%,-50%);
        }

        .top_content_login{
            width:28.3%;
            height: auto;
            font-size:1rem;
            background-color:transparent;
            position: relative;
            float:left;
            top:50%;
            transform: translate(0%,-50%);
        }

        .top_content_mypage{
            width:28.3%;
            height: auto;
            font-size:1rem;
            position: relative;
            background-color: transparent;
            float:left;
            top:50%;
            transform: translate(0%,-50%);
        }

        .top_content_noti{
            width:10%;
            height: 60%;
            top: 20%;
            position: relative;
            float:left;
            background-color: transparent;
        }

        .middle_fir_div{
            width:100%;
            height:10%;
            position: relative;
            background-color:pink;
            
        }

        .middle_sec_div{
            width:100%;
            height:90%;
            position: relative;
            background-color:transparent;
        }

        .middle_cate_mycatinfo_div{
            width: 20%;
            height: 100%;
            position: absolute;
            top:0;
            left:2%;
            background-color:transparent;
            float:left;
        }

        .middle_cate_mycatinfo_content{
            width:100%;
            height:100%;
            position:relative;      
        }

        .middle_cate_mycatinfo_title{
            width:40%;
            height:100%;
            position: relative;
            background-color:transparent;
            float:left;
        }

        .middle_cate_mycatinfo_img{
            width: 3vw;
            height:3vw;
            position:relative;
            border-radius: 50%;
            float:left;
        }

        .middle_cate_cover{
            width:30%;
            height: 100%;
            position: relative;
            left:50%;
            transform: translate(-50%,0%);
            background-color:transparent; 

        }

        .middle_cate_content:hover{
            color:gray;
        }

        .middle_cate_content{
            width: 25%;
            height: 100%;
            position: relative;
            float:left;
            text-align:center;
            background-color:transparent;
        }

        .middle_cate_hover{
            width: 100%;
            height: auto;
            opacity: 0;
            transition: 0.5s ease;
            top:10%;
            background-color:black;
        }

        .middle_cate_content:hover .middle_cate_hover{
            opacity: 1;
        }

        .middle_sec_cover{
            width:100%;
            height:100%;
            top:50%;
            position: relative;
            left:50%;
            transform: translate(-50%,-50%);
            background-color: transparent;
        }

        .middle_sec_content_cover{
            width:25%;
            height:100%;
            position: relative;
            float:left;
            background-color: transparent;
        }

        .middle_sec_content{
            width: 12vw;
            height: 12vw;
            position: relative;
            border-radius:50%;
            margin-right:4%;
            left: 10%;
        }

        #middle_sec_content_1{
            top:-120%;
            transform: rotate(0deg);
            opacity:0;
        }

        #middle_sec_content_2{
            top:-150%;
            transform: rotate(-50deg);
            opacity:0;
        }

        #middle_sec_content_3{
            top:-130%;
            transform: rotate(-30deg);
            opacity:0;
        }

        #middle_sec_content_4{
            top:-140%;
            transform: rotate(30deg);
            opacity:0;
        }

        .middle_sec_content_hover{
            width:100%;
            height: 100%;
            position:absolute;
            top:0%;
            left:0%;
            opacity: 0;
            transition: 0.5s ease;
            background-color:sienna;
        }

        .middle_sec_content_cover:hover .middle_sec_content_hover{
            opacity: 1;
        }

        .middle_cate_subtitle{
            width:100%;
            height: 2vw;
            text-align: center;
            color:white;
        }
        
        .notification_div{
            width:20%;
            height:70%;
            position: absolute;
            background-color: gray;
            top:6%;
            right:-20%;
         }

         .mycatinfo_div{
             width:20%;
             height:40%;
             position:absolute;
             background-color:salmon;
             top:36%;
             left:-20%;
         }


         .notifications{
             width:100%;
             height:10%;
             background-color: crimson;
             margin-bottom: 1%;
             position: relative;
         }

         .notification_category{
             width:20%;
             height:100%;
             background-color:burlywood;
             position:relative;
             float:left;
         }

         .notification_content{
             width: 80%;
             height: 100%;
             background-color: darkorchid;
             position: relative;
             float: left;
         }

        .top_content_noti_count_div{
            width:1vw;
            height: 1vw;
            position: absolute;
            bottom:0%;
            right: 20%;
            background-color: red;
            border-radius:50%;
            text-align: center;
            font-size: 0.6rem;
            font-weight:900;
            color : black;
        }

        .top_content_noti_image{
            width: 2vw;
            height: 2vw;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .middle_cate_title{
            width:100%;
            height:100%;
            background-color: pink;
            position: relative;
        }

        .middle_cate_title_text{
            width:100%;
            height:auto;
            top:50%;
            transform: translateY(-50%);
            position:relative;
        }

        .top_content_noti_shake{
            -webkit-animation:  shake 1s infinite;
        }

        @-webkit-keyframes shake{
            0%, 20%, 50%, 80%, 100%{
                -webkit-transform: translate(-50%,-50%) rotate(0);
            }
            40%{
                -webkit-transform: translate(-50%,-50%) rotate(30deg);
            }

            60%{
                -webkit-transform: translate(-50%,-50%) rotate(-30deg);
            }

        }
       
        a {
            text-decoration: none;
        }
    </style>
</head>

<body>
    <div class="top">
        <div class="top_fir_div">
            <div class="top_left_div_cover">
                    <input id="search_input" type="text" class="top_content_search">
                    <img src="http://merryaround.co.kr/web/upload/plain79/icon_search01.png" 
                    style="width: auto; height: auto; position: relative; float: left; top:15%;" 
                    onclick="search();" >
            </div>

            <div class="top_right_div_cover">

                <div class="top_content_join">
                    <a href="/join/" >join</a>
                </div>

                <div class="top_content_login">
                    <a href="/login_page/" >login</a>
                </div>

                <div class="top_content_mypage">
                    mypage
                </div>

                <div class="top_content_noti">
                    {% if is_important %}
                    <img 
                    class="top_content_noti_image top_content_noti_shake" 
                    src="/static/image/noti.png"
                    onclick="toggle_notification();"
                    >
                    {% else %}

                    <img 
                    class="top_content_noti_image" 
                    src="/static/image/noti.png"
                    onclick="toggle_notification();"
                    >
                    {% endif %}


                    {% if notifications_count > 0 %}
                    <div class="top_content_noti_count_div" onclick="toggle_notification();">
                        {{notifications_count}}
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="top_sec_div">
            <div class="top_sec_content">
                MIDGO<br>
                <p style="font-size : 1rem; font-weight: 500;">
                <font color="pink">믿</font>고알아가는<font color="pink">꼬</font>미네
                </p>
            </div>
        </div>
    </div>

    <div class="middle">
        <div class="middle_fir_div">
            <!-- <div class="middle_cate_mycatinfo_div">
                <div class="middle_cate_mycatinfo_content">
                    <img class="middle_cate_mycatinfo_img" src="/static/image/mycatinfo.png" style="margin-right: 22%;" onclick="toggle_mycatinfo();">
                    <div class="middle_cate_mycatinfo_title">
                        꼬집사 say
                    </div>
                </div>
            </div> -->
            <div class="middle_cate_cover">
                <div class=" middle_cate_content">
                    <div class="middle_cate_title">
                        <div class="middle_cate_title_text">
                            PICK'
                        </div>            
                    </div> 
                    <div class="middle_cate_hover">
                        <div class="middle_cate_subtitle">
                                subtitle1
                        </div>
    
                         <div class="middle_cate_subtitle">
                                    subtitle2
                        </div>
    
                        
                    </div>
                </div>



                <div class="middle_cate_content">
                    <div class="middle_cate_title">
                        <div class="middle_cate_title_text">
                            INTRO
                        </div>
                    </div>
                    <div class="middle_cate_hover">
                        <div class="middle_cate_subtitle">
                                subtitle1
                        </div>
    
                       
                    </div>
                </div>

                <div class=" middle_cate_content">
                    <div class="middle_cate_title">
                        <div class="middle_cate_title_text">
                        STUDY
                        </div>
                    </div>
                    <div class="middle_cate_hover">
                        <div class="middle_cate_subtitle">
                                수의학
                        </div>
    
                        <div class="middle_cate_subtitle">
                                영양학
                        </div>
    
                        <div class="middle_cate_subtitle">
                                심리학
                        </div>
                    </div>
                </div>

                <div class="middle_cate_content">
                    <div class="middle_cate_title">
                        <div class="middle_cate_title_text">
                            REVIEW
                        </div>
                    </div>

                    <div class="middle_cate_hover">
                        <div class="middle_cate_subtitle">
                           subtitle1
                        </div>

                        <div class="middle_cate_subtitle">
                                subtitle2
                        </div>

                        <div class="middle_cate_subtitle">
                                subtitle3
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="middle_sec_div">
            <div class="middle_sec_cover">
                <div class="middle_sec_content_cover">
                    <img class="middle_sec_content" id="middle_sec_content_1" src="/static/image/aangkko.jpg">
                    
                    <!-- <div class="middle_sec_content_hover">

                    </div> -->
                </div>

                <div class="middle_sec_content_cover">
                    <img class="middle_sec_content"  id="middle_sec_content_2" src="/static/image/ruru.png">
                    <!-- <div class="middle_sec_content_hover">

                    </div> -->
                </div>

                <div class="middle_sec_content_cover">
                    <img class="middle_sec_content" id="middle_sec_content_3" src="/static/image/hhoppang.png" >
                
                    <!-- <div class="middle_sec_content_hover">

                    </div> -->
                </div>

                <div class="middle_sec_content_cover">
                    <img class="middle_sec_content"  id="middle_sec_content_4" src="/static/image/kkomi.png" >
<!--                 
                    <div class="middle_sec_content_hover">

                    </div> -->
                </div>
            </div>

        </div>
    </div>

    <div class="bottom">
        COPYRIGHT (C) MIDGO <br><br>
        <font style="font-weight:600;">Contact email</font><br>
        kkolayun@gmail.com
    </div>

    <div class="notification_div">
        {% for notification in notifications %}
            <div class="notifications">
                <div class="notification_category">
                    {{notification.category}}
                </div>

                <div class="notification_content">
                    {{notification.content}}
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="mycatinfo_div">

    </div>

    <script>
        var notification_is_open = false;

        function toggle_notification(){
            if(notification_is_open){
                $(".notification_div").stop().animate({
                    'right':'-20%'
                });

                notification_is_open=false;
            }

            else{
                $(".notification_div").stop().animate({
                    'right':'0%'
                });

                notification_is_open=true;
            }

            $(".top_content_noti_image").removeClass("top_content_noti_shake");


            fetch("./check_notification/")
                .then(e => e.json())
                .then(e =>{
                    console.log(e);
                    $(".top_content_noti_count_div").css({
                        'display':'none'
                    });
                });
        }


        var mycatinfo_is_open =false;

        function toggle_mycatinfo(){
            if(mycatinfo_is_open){
                $(".mycatinfo_div").stop().animate({
                    'left':'-20%'
                });

                mycatinfo_is_open=false;
            }
         

            else{
                $(".mycatinfo_div").stop()   .animate({
                        'left':'0%'
                });

                mycatinfo_is_open=true;
            }
        }


        function search(){
			var search_button = document.getElementById("search_input");
			alert(search_button.value);
		}

        $(document).ready(function(){
           setTimeout(function(){
                $("#middle_sec_content_1").css({
                    'transition': 'transform 2s',
                    'transform' : 'rotate(0deg)',
                    'opacity' : '1'
                });

                $("#middle_sec_content_1")
                .animate({
                    'top': '50%'
                },500)
                .animate({
                    'top': '30%'
                },500)
                .animate({
                    'top': '40%'
                },500);
                
           },600); 

           setTimeout(function(){
                $("#middle_sec_content_2").css({
                    'transition': 'transform 2s',
                    'transform' : 'rotate(0deg)',
                    'opacity' : '1'
                });

                $("#middle_sec_content_2")
                .animate({
                    'top': '50%'
                },500)
                .animate({
                    'top': '30%'
                },500)
                .animate({
                    'top': '40%'
                },500);
                
           },800); 

           setTimeout(function(){
                $("#middle_sec_content_3").css({
                    'transition': 'transform 2s',
                    'transform' : 'rotate(0deg)',
                    'opacity' : '1'
                });

                $("#middle_sec_content_3")
                .animate({
                    'top': '50%'
                },500)
                .animate({
                    'top': '30%'
                },500)
                .animate({
                    'top': '40%'
                },500);
                
           },700); 

           setTimeout(function(){
                $("#middle_sec_content_4").css({
                    'transition': 'transform 2s',
                    'transform' : 'rotate(0deg)',
                    'opacity' : '1'
                });

                $("#middle_sec_content_4")
                .animate({
                    'top': '50%'
                },500)
                .animate({
                    'top': '30%'
                },500)
                .animate({
                    'top': '40%'
                },500);
                
           },900); 
        });
    </script>


</body>
</html>